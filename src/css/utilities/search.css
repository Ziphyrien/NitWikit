/* ======================================
   NitWikit 搜索样式
   Algolia DocSearch 适配
====================================== */

/* ======================================
   搜索按钮
====================================== */
.DocSearch-Button {
    background: var(--bg-card) !important;
    border: 1px solid var(--border) !important;
    border-radius: var(--radius-md) !important;
    padding: 0 0.75rem !important;
    height: 2rem !important;
    transition: all var(--transition-fast) !important;
    color: var(--text-secondary) !important;
    font-weight: 400 !important;
    gap: 0.5rem !important;
}

.DocSearch-Button:hover {
    background: var(--bg-muted) !important;
    border-color: var(--primary-alpha-border) !important;
    box-shadow: 0 0 0 2px var(--primary-alpha-10) !important;
}

.DocSearch-Button-Placeholder {
    font-size: 0.8125rem !important;
    color: var(--text-light) !important;
}

.DocSearch-Button-Keys {
    display: flex !important;
    gap: 0.125rem !important;
    min-width: auto !important;
}

.DocSearch-Button-Key {
    background: var(--bg-muted) !important;
    border: 1px solid var(--border-light) !important;
    border-radius: var(--radius-sm) !important;
    padding: 0 0.25rem !important;
    font-size: 0.625rem !important;
    color: var(--text-light) !important;
    box-shadow: none !important;
    width: auto !important;
    height: 1.25rem !important;
    line-height: 1.25rem !important;
}

/* ======================================
   搜索模态框
====================================== */
.DocSearch-Modal {
    --docsearch-modal-background: var(--bg-card) !important;
    --docsearch-text-color: var(--text-primary) !important;
    --docsearch-muted-color: var(--text-secondary) !important;
    --docsearch-searchbox-background: var(--bg-muted) !important;
    --docsearch-searchbox-focus-background: var(--bg-card) !important;
    --docsearch-hit-background: var(--bg-muted) !important;
    --docsearch-hit-color: var(--text-primary) !important;
    --docsearch-highlight-color: var(--primary-text) !important;
    --docsearch-footer-background: var(--bg-muted) !important;
    --docsearch-key-gradient: var(--bg-elevated) !important;
    --docsearch-key-shadow: none !important;
    border-radius: var(--radius-lg) !important;
    border: 1px solid var(--border) !important;
    box-shadow: var(--shadow-lg) !important;
}

.DocSearch-SearchBar {
    padding: 0.875rem !important;
}

.DocSearch-Form {
    border-radius: var(--radius-md) !important;
    border: 1px solid var(--border) !important;
}

.DocSearch-Input {
    font-size: 0.9375rem !important;
    padding-left: 0.5rem !important;
}

.DocSearch-Hit a {
    border-radius: var(--radius-md) !important;
    padding: 0.75rem !important;
}

.DocSearch-Hit[aria-selected="true"] a {
    background: var(--primary-alpha-10) !important;
    border-color: var(--primary-alpha-border) !important;
}

.DocSearch-Hit-title {
    font-weight: 500 !important;
    font-size: 0.875rem !important;
}

.DocSearch-Hit-path {
    color: var(--text-light) !important;
    font-size: 0.75rem !important;
}

.DocSearch-Footer {
    border-top: 1px solid var(--border) !important;
}

/* ======================================
   暗色模式
====================================== */
[data-theme="dark"] .DocSearch-Button {
    background: var(--bg-card) !important;
    border-color: var(--border) !important;
}

[data-theme="dark"] .DocSearch-Button:hover {
    background: var(--bg-elevated) !important;
    border-color: var(--primary-alpha-border) !important;
}

[data-theme="dark"] .DocSearch-Button-Key {
    background: var(--bg-elevated) !important;
    border-color: var(--border) !important;
}

[data-theme="dark"] .DocSearch-Modal {
    --docsearch-highlight-color: var(--primary) !important;
}

[data-theme="dark"] .DocSearch-Form {
    border-color: var(--border) !important;
}

/* ======================================
   移动端响应式
====================================== */
@media (max-width: 996px) {
    .DocSearch-Button {
        padding: 0 0.625rem !important;
        /* 确保触摸目标足够大 */
        min-height: 36px !important;
        min-width: 36px !important;
    }

    .DocSearch-Button-Placeholder {
        display: none !important;
    }

    .DocSearch-Button-Keys {
        display: none !important;
    }

    .DocSearch-Search-Icon {
        width: 18px !important;
        height: 18px !important;
    }
}

@media (max-width: 540px) {
    .DocSearch-Button {
        min-height: 40px !important;
        min-width: 40px !important;
        padding: 0 0.5rem !important;
        border-radius: var(--radius-md) !important;
    }

    /* 搜索模态框移动端全屏优化 */
    .DocSearch-Modal {
        border-radius: 0 !important;
        max-width: 100vw !important;
        margin: 0 !important;
        height: 100vh !important;
        max-height: 100vh !important;
    }

    .DocSearch-SearchBar {
        padding: 0.75rem !important;
    }

    .DocSearch-Input {
        font-size: 16px !important; /* 防止 iOS 缩放 */
        padding-left: 0.375rem !important;
    }

    .DocSearch-Hit a {
        padding: 0.625rem !important;
    }

    .DocSearch-Hit-title {
        font-size: 0.8125rem !important;
    }

    .DocSearch-Hit-path {
        font-size: 0.6875rem !important;
    }

    .DocSearch-Footer {
        padding: 0.625rem 0.75rem !important;
    }
}
