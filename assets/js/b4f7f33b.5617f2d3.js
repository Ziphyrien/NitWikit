"use strict";(self.webpackChunkcubic_wiki=self.webpackChunkcubic_wiki||[]).push([["18519"],{50046:function(e,n,a){a.r(n),a.d(n,{metadata:()=>r,default:()=>o,frontMatter:()=>i,contentTitle:()=>c,toc:()=>d,assets:()=>l});var r=JSON.parse('{"id":"advance/arthas","title":"Arthas","description":"Arthas(\u4E2D\u6587\u540D\uFF1A\u963F\u5C14\u8428\u65AF) \u662F\u4E00\u4E2A Java \u8BCA\u65AD\u5DE5\u5177\uFF0C\u5728 Minecraft \u4E2D\u53EF\u4EE5\u7528\u6765\u5206\u6790\u62A5\u9519\u6216\u8FFD\u8E2A\u8C03\u7528","source":"@site/docs/advance/arthas.md","sourceDirName":"advance","slug":"/arthas","permalink":"/NitWikit/arthas","draft":false,"unlisted":false,"editUrl":"https://github.com/Cubic-Project/NitWikit/tree/main/docs/advance/arthas.md","tags":[],"version":"current","lastUpdatedBy":"Dreeam","lastUpdatedAt":1765689082000,"sidebarPosition":7,"frontMatter":{"title":"Arthas","slug":"/arthas","sidebar_position":7},"sidebar":"tutorialSidebar","previous":{"title":"\u73A9\u5BB6\u53CD\u9988","permalink":"/NitWikit/Sundry/Advance/management/player-management/feedback"},"next":{"title":"\u5EFA\u8BBE\u670D\u52A1\u5668","permalink":"/NitWikit/website"}}'),t=a(47259),s=a(45739);let i={title:"Arthas",slug:"/arthas",sidebar_position:7},c="Arthas",l={},d=[{value:"\u4E0B\u8F7D",id:"\u4E0B\u8F7D",level:2},{value:"Arthas IDEA",id:"arthas-idea",level:3},{value:"\u542F\u52A8",id:"\u542F\u52A8",level:2},{value:"\u5F00\u59CB",id:"\u5F00\u59CB",level:2},{value:"\u54EA\u4E2A\u63D2\u4EF6\u53D1\u9001\u4E86\u804A\u5929\u4FE1\u606F\uFF1F",id:"\u54EA\u4E2A\u63D2\u4EF6\u53D1\u9001\u4E86\u804A\u5929\u4FE1\u606F",level:3},{value:"\u67E5\u770B\u7C7B\u662F\u54EA\u4E2A\u63D2\u4EF6\u6DFB\u52A0\u7684",id:"\u67E5\u770B\u7C7B\u662F\u54EA\u4E2A\u63D2\u4EF6\u6DFB\u52A0\u7684",level:3},{value:"\u65E5\u5FD7\u662F\u54EA\u4E2A\u63D2\u4EF6\u6253\u5370\u7684",id:"\u65E5\u5FD7\u662F\u54EA\u4E2A\u63D2\u4EF6\u6253\u5370\u7684",level:3}];function h(e){let n={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",ul:"ul",...(0,s.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.header,{children:(0,t.jsx)(n.h1,{id:"arthas",children:"Arthas"})}),"\n",(0,t.jsx)(n.p,{children:"Arthas(\u4E2D\u6587\u540D\uFF1A\u963F\u5C14\u8428\u65AF) \u662F\u4E00\u4E2A Java \u8BCA\u65AD\u5DE5\u5177\uFF0C\u5728 Minecraft \u4E2D\u53EF\u4EE5\u7528\u6765\u5206\u6790\u62A5\u9519\u6216\u8FFD\u8E2A\u8C03\u7528"}),"\n",(0,t.jsx)(n.admonition,{type:"warning",children:(0,t.jsx)(n.p,{children:"\u6B64\u90E8\u5206\u7684\u5185\u5BB9\u975E\u5E38\u96BE\uFF0C\u9700\u8981\u6709\u8F83\u9AD8\u7684\u77E5\u8BC6\u6C34\u5E73!!!"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.a,{href:"https://arthas.aliyun.com/",children:"\u5B98\u7F51"})}),"\n",(0,t.jsx)(n.h2,{id:"\u4E0B\u8F7D",children:"\u4E0B\u8F7D"}),"\n",(0,t.jsxs)(n.p,{children:["\u81EA\u884C\u53C2\u8003 ",(0,t.jsx)(n.a,{href:"https://arthas.aliyun.com/doc/install-detail.html",children:"\u5B98\u65B9\u6587\u6863 - \u4E0B\u8F7D"})]}),"\n",(0,t.jsx)(n.h3,{id:"arthas-idea",children:"Arthas IDEA"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.a,{href:"https://plugins.jetbrains.com/plugin/13581-arthas-idea",children:"\u4E0B\u8F7D"})}),"\n",(0,t.jsx)(n.p,{children:"Arthas \u7684 idea \u63D2\u4EF6\uFF0C\u53EF\u4EE5\u5E2E\u52A9\u4F60\u751F\u6210 Arthas \u547D\u4EE4"}),"\n",(0,t.jsx)(n.h2,{id:"\u542F\u52A8",children:"\u542F\u52A8"}),"\n",(0,t.jsxs)(n.p,{children:["\u81EA\u884C\u53C2\u8003 ",(0,t.jsx)(n.a,{href:"https://arthas.aliyun.com/doc/quick-start.html",children:"\u5B98\u65B9\u6587\u6863 - \u5FEB\u901F\u5F00\u59CB"})]}),"\n",(0,t.jsx)(n.h2,{id:"\u5F00\u59CB",children:"\u5F00\u59CB"}),"\n",(0,t.jsx)(n.admonition,{type:"tip",children:(0,t.jsx)(n.p,{children:"\u8FD9\u4E00\u90E8\u5206\u7684\u6587\u6863\u8BA4\u4E3A\u4F60\u521D\u6B65\u638C\u63E1\u4E86 Arthas \u7684\u4F7F\u7528"})}),"\n",(0,t.jsx)(n.h3,{id:"\u54EA\u4E2A\u63D2\u4EF6\u53D1\u9001\u4E86\u804A\u5929\u4FE1\u606F",children:"\u54EA\u4E2A\u63D2\u4EF6\u53D1\u9001\u4E86\u804A\u5929\u4FE1\u606F\uFF1F"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"watch -x 2 net.minecraft.server.network.PlayerConnection * '{params[0],@java.lang.Thread@currentThread().getStackTrace()}' 'params.length==2 && (params[0].class.name == \"net.minecraft.network.protocol.game.ClientboundPlayerChatPacket\" || params[0].class.name == \"net.minecraft.network.protocol.game.ClientboundSystemChatPacket\")'\n"})}),"\n",(0,t.jsx)(n.p,{children:"\u89E3\u91CA\uFF1A"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"-x 2"})," \u8868\u793A\u904D\u5386\u6DF1\u5EA6\uFF0C\u53EF\u4EE5\u8C03\u6574\u6765\u6253\u5370\u5177\u4F53\u7684\u53C2\u6570\u548C\u7ED3\u679C\u5185\u5BB9"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"net.minecraft.server.network.PlayerConnection"})," \u662F 1.17+ \u73A9\u5BB6\u8FDE\u63A5\u7684\u4E3B\u7C7B"]}),"\n",(0,t.jsxs)(n.li,{children:["\u5355\u5F15\u53F7\u62EC\u8D77\u6765\u7684\u662F",(0,t.jsx)(n.a,{href:"https://commons.apache.org/dormant/commons-ognl/language-guide.html",children:"OGNL \u8868\u8FBE\u5F0F"}),"\uFF0C\u662F Arthas \u7684\u6838\u5FC3"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"params[0]"})," \u4F1A\u8BA9 Arthas \u8F93\u51FA\u8C03\u7528\u7684\u7B2C\u4E00\u4E2A\u53C2\u6570"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"@java.lang.Thread@currentThread().getStackTrace()"})," \u8F93\u51FA\u8C03\u7528\u5806\u6808"]}),"\n",(0,t.jsxs)(n.li,{children:["\u540E\u9762\u90A3\u4E00\u5927\u5768\u662F\u8F93\u51FA\u8FC7\u6EE4\uFF0C\u53EA\u5173\u6CE8\u53C2\u6570\u957F\u5EA6\u4E3A 2\uFF0C\u5E76\u4E14\u53D1\u5305\u4E3A",(0,t.jsx)(n.code,{children:"net.minecraft.network.protocol.game.ClientboundSystemChatPacket"}),"\u6216\n",(0,t.jsx)(n.code,{children:"net.minecraft.network.protocol.game.ClientboundPlayerChatPacket"})]}),"\n"]}),"\n",(0,t.jsx)(n.admonition,{type:"warning",children:(0,t.jsx)(n.p,{children:"\u7531\u4E8E\u6DF7\u6DC6\u6620\u5C04\u8868\u7684\u95EE\u9898\uFF0C\u8BE5\u547D\u4EE4\u4E0D\u4E00\u5B9A\u5728\u4F60\u7684\u670D\u52A1\u7AEF\u6838\u5FC3\u4E0A\u9002\u7528"})}),"\n",(0,t.jsx)(n.h3,{id:"\u67E5\u770B\u7C7B\u662F\u54EA\u4E2A\u63D2\u4EF6\u6DFB\u52A0\u7684",children:"\u67E5\u770B\u7C7B\u662F\u54EA\u4E2A\u63D2\u4EF6\u6DFB\u52A0\u7684"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"sc -d com.google.gson.Gson\n"})}),"\n",(0,t.jsx)(n.p,{children:"\u8FC7\u4E8E\u57FA\u7840\uFF0C\u4E0D\u505A\u89E3\u91CA"}),"\n",(0,t.jsx)(n.h3,{id:"\u65E5\u5FD7\u662F\u54EA\u4E2A\u63D2\u4EF6\u6253\u5370\u7684",children:"\u65E5\u5FD7\u662F\u54EA\u4E2A\u63D2\u4EF6\u6253\u5370\u7684"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"watch -x 2 org.apache.logging.log4j.core.config.LoggerConfig processLogEvent '{params[0].message.message,@java.lang.Thread@currentThread().getStackTrace()}' 'params[0].message.message.contains(\"\u65E5\u5FD7\u4E2D\u7684\u4E00\u90E8\u5206\u5185\u5BB9\")'\n"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"org.apache.logging.log4j.core.config.LoggerConfig"})," \u662F Minecraft \u7684\u65E5\u5FD7\u6838\u5FC3\u5E93"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"processLogEvent"})," \u662F\u65E5\u5FD7\u8BB0\u5F55\u4E8B\u4EF6\u65B9\u6CD5"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"params[0].message.message\uFF0C@java.lang.Thread@currentThread().getStackTrace()"})," \u6253\u5370\u51FA\u8F93\u51FA\u7684\u65E5\u5FD7\u548C\u8C03\u7528\u5806\u6808"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:'params[0].message.message.contains("\u65E5\u5FD7\u4E2D\u7684\u4E00\u90E8\u5206\u5185\u5BB9")'})," \u68C0\u67E5\u8F93\u51FA\u6D88\u606F\u4E2D\u662F\u5426\u6709\u60F3\u8981\u7684"]}),"\n"]})]})}function o(e={}){let{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(h,{...e})}):h(e)}},45739:function(e,n,a){a.d(n,{R:()=>i,x:()=>c});var r=a(96363);let t={},s=r.createContext(t);function i(e){let n=r.useContext(s);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:i(e.components),r.createElement(s.Provider,{value:n},e.children)}}}]);